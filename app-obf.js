const a0_0x486928=a0_0x6ae0;(function(_0x5bbb0d,_0x1924f1){const _0x729acf=a0_0x6ae0,_0x5b58ef=_0x5bbb0d();while(!![]){try{const _0x3e9f2d=parseInt(_0x729acf(0x16a))/0x1+-parseInt(_0x729acf(0x179))/0x2*(parseInt(_0x729acf(0x152))/0x3)+parseInt(_0x729acf(0x13b))/0x4*(-parseInt(_0x729acf(0x164))/0x5)+-parseInt(_0x729acf(0x150))/0x6+-parseInt(_0x729acf(0x149))/0x7*(parseInt(_0x729acf(0x13a))/0x8)+parseInt(_0x729acf(0x14c))/0x9+parseInt(_0x729acf(0x18b))/0xa;if(_0x3e9f2d===_0x1924f1)break;else _0x5b58ef['push'](_0x5b58ef['shift']());}catch(_0x4657df){_0x5b58ef['push'](_0x5b58ef['shift']());}}}(a0_0x4b27,0xe93c7));const a0_0x4d0514=(function(){let _0x4b5f8d=!![];return function(_0x1f561a,_0x4c3e9a){const _0x4369f1=_0x4b5f8d?function(){const _0x19367d=a0_0x6ae0;if(_0x4c3e9a){const _0x188ed8=_0x4c3e9a[_0x19367d(0x159)](_0x1f561a,arguments);return _0x4c3e9a=null,_0x188ed8;}}:function(){};return _0x4b5f8d=![],_0x4369f1;};}()),a0_0x458dd9=a0_0x4d0514(this,function(){const _0x311f56=a0_0x6ae0;return a0_0x458dd9['toString']()['search'](_0x311f56(0x151))[_0x311f56(0x173)]()[_0x311f56(0x165)](a0_0x458dd9)['search'](_0x311f56(0x151));});a0_0x458dd9();const PREVIEW_W=0x14a,PREVIEW_H=0x208,templateInput=document[a0_0x486928(0x190)](a0_0x486928(0x155)),photoInput=document[a0_0x486928(0x190)](a0_0x486928(0x140)),templateNameSpan=document['getElementById']('templateName'),photoNameSpan=document[a0_0x486928(0x190)]('photoName'),canvas=document[a0_0x486928(0x190)]('previewCanvas'),ctx=canvas[a0_0x486928(0x17f)]('2d'),widthMmInput=document[a0_0x486928(0x190)](a0_0x486928(0x153)),heightMmInput=document['getElementById'](a0_0x486928(0x13c)),dpiInput=document[a0_0x486928(0x190)](a0_0x486928(0x15e)),lockRatioInput=document[a0_0x486928(0x190)](a0_0x486928(0x13f)),pxInfo=document[a0_0x486928(0x190)](a0_0x486928(0x192)),ratioInfo=document[a0_0x486928(0x190)](a0_0x486928(0x14b));function a0_0x6ae0(_0x4eb294,_0x55274a){const _0x4523c0=a0_0x4b27();return a0_0x6ae0=function(_0x458dd9,_0x4d0514){_0x458dd9=_0x458dd9-0x137;let _0x4b27d5=_0x4523c0[_0x458dd9];return _0x4b27d5;},a0_0x6ae0(_0x4eb294,_0x55274a);}canvas['width']=PREVIEW_W,canvas[a0_0x486928(0x139)]=PREVIEW_H;let templateImg=null,photoImg=null,exportWidthPx=0x295,exportHeightPx=0x40f,aspectRatio=parseFloat(widthMmInput['value'])/parseFloat(heightMmInput[a0_0x486928(0x188)]);const state={'centerX':0x32,'centerY':0x19,'diameter':0x2a,'zoom':0x1,'offsetX':0x0,'offsetY':0x0};function recalcExportSize(){const _0x39f7cf=a0_0x486928;let _0x15b4d7=parseFloat(widthMmInput[_0x39f7cf(0x188)])||0x38,_0x4a6d79=parseFloat(heightMmInput[_0x39f7cf(0x188)])||0x58,_0x323f35=parseInt(dpiInput[_0x39f7cf(0x188)],0xa)||0x12c;if(_0x323f35<0x48)_0x323f35=0x48;if(_0x323f35>0x258)_0x323f35=0x258;dpiInput['value']=_0x323f35,exportWidthPx=Math[_0x39f7cf(0x141)](_0x15b4d7/25.4*_0x323f35),exportHeightPx=Math['round'](_0x4a6d79/25.4*_0x323f35),aspectRatio=_0x15b4d7/_0x4a6d79,ratioInfo[_0x39f7cf(0x156)]=_0x39f7cf(0x166)+aspectRatio[_0x39f7cf(0x178)](0x2),pxInfo[_0x39f7cf(0x156)]='≈\x20'+exportWidthPx+'\x20×\x20'+exportHeightPx+_0x39f7cf(0x162);}widthMmInput[a0_0x486928(0x17d)]('input',()=>{const _0x2bea69=a0_0x486928;let _0x323ad6=parseFloat(widthMmInput['value']);if(isNaN(_0x323ad6)||_0x323ad6<=0x0)return;if(lockRatioInput['checked']){let _0x183580=_0x323ad6/aspectRatio;heightMmInput[_0x2bea69(0x188)]=_0x183580['toFixed'](0x2)[_0x2bea69(0x15d)](/\.00$/,'');}recalcExportSize();}),heightMmInput[a0_0x486928(0x17d)]('input',()=>{const _0x103497=a0_0x486928;let _0x59ff1c=parseFloat(heightMmInput[_0x103497(0x188)]);if(isNaN(_0x59ff1c)||_0x59ff1c<=0x0)return;if(lockRatioInput[_0x103497(0x182)]){let _0x156f44=_0x59ff1c*aspectRatio;widthMmInput['value']=_0x156f44['toFixed'](0x2)[_0x103497(0x15d)](/\.00$/,'');}recalcExportSize();}),dpiInput['addEventListener'](a0_0x486928(0x189),()=>{recalcExportSize();}),recalcExportSize();function loadImageFromFile(_0x1b5124,_0x31e49e){const _0x299631=a0_0x486928,_0x4e6347=new FileReader();_0x4e6347[_0x299631(0x174)]=()=>{const _0x497e8d=_0x299631,_0x225d84=new Image();_0x225d84[_0x497e8d(0x174)]=()=>_0x31e49e(_0x225d84),_0x225d84['src']=_0x4e6347['result'];},_0x4e6347['readAsDataURL'](_0x1b5124);}function renderToCanvas(_0x2472d1,_0x4b7176,_0x43bd12,_0x45a3be,_0x110e2c=0x1){const _0x4a25e1=a0_0x486928;_0x4b7176['clearRect'](0x0,0x0,_0x43bd12,_0x45a3be),_0x4b7176['fillStyle']=_0x4a25e1(0x186),_0x4b7176[_0x4a25e1(0x18c)](0x0,0x0,_0x43bd12,_0x45a3be);templateImg?_0x4b7176['drawImage'](templateImg,0x0,0x0,_0x43bd12,_0x45a3be):(_0x4b7176[_0x4a25e1(0x169)]=_0x4a25e1(0x14f),_0x4b7176[_0x4a25e1(0x18c)](0x0,0x0,_0x43bd12,_0x45a3be),_0x4b7176[_0x4a25e1(0x169)]=_0x4a25e1(0x142),_0x4b7176[_0x4a25e1(0x177)]=0x20*_0x110e2c+'px\x20system-ui',_0x4b7176[_0x4a25e1(0x183)]='center',_0x4b7176[_0x4a25e1(0x16e)](_0x4a25e1(0x18a),_0x43bd12/0x2,_0x45a3be*0.7));if(!photoImg){const _0x35a745=state[_0x4a25e1(0x143)]/0x64*_0x43bd12,_0x34f813=state['centerX']/0x64*_0x43bd12,_0x5b155f=state['centerY']/0x64*_0x45a3be;_0x4b7176['fillStyle']=_0x4a25e1(0x142),_0x4b7176[_0x4a25e1(0x15b)](),_0x4b7176[_0x4a25e1(0x16b)](_0x34f813,_0x5b155f,_0x35a745/0x2,0x0,Math['PI']*0x2),_0x4b7176[_0x4a25e1(0x154)](),_0x4b7176[_0x4a25e1(0x169)]=_0x4a25e1(0x16d),_0x4b7176[_0x4a25e1(0x177)]=0x18*_0x110e2c+_0x4a25e1(0x175),_0x4b7176[_0x4a25e1(0x183)]='center',_0x4b7176[_0x4a25e1(0x16e)]('FOTO',_0x34f813,_0x5b155f+0x8*_0x110e2c);return;}const _0x1fa1ee=state['diameter']/0x64*_0x43bd12,_0x3c10c1=state[_0x4a25e1(0x147)]/0x64*_0x43bd12,_0x5d368e=state[_0x4a25e1(0x13e)]/0x64*_0x45a3be,_0x1698b2=photoImg['width'],_0x5a9ed1=photoImg[_0x4a25e1(0x139)],_0x1c4c0c=Math[_0x4a25e1(0x148)](_0x1698b2,_0x5a9ed1),_0x2725d8=_0x1c4c0c/state['zoom'],_0x19f43f=_0x1698b2/0x2+state['offsetX'],_0x4754ec=_0x5a9ed1/0x2+state['offsetY'];let _0x172f26=_0x19f43f-_0x2725d8/0x2,_0x2a7f8f=_0x4754ec-_0x2725d8/0x2;if(_0x172f26<0x0)_0x172f26=0x0;if(_0x2a7f8f<0x0)_0x2a7f8f=0x0;if(_0x172f26+_0x2725d8>_0x1698b2)_0x172f26=_0x1698b2-_0x2725d8;if(_0x2a7f8f+_0x2725d8>_0x5a9ed1)_0x2a7f8f=_0x5a9ed1-_0x2725d8;_0x4b7176[_0x4a25e1(0x14e)](),_0x4b7176[_0x4a25e1(0x15b)](),_0x4b7176[_0x4a25e1(0x16b)](_0x3c10c1,_0x5d368e,_0x1fa1ee/0x2,0x0,Math['PI']*0x2),_0x4b7176[_0x4a25e1(0x160)](),_0x4b7176[_0x4a25e1(0x16f)](photoImg,_0x172f26,_0x2a7f8f,_0x2725d8,_0x2725d8,_0x3c10c1-_0x1fa1ee/0x2,_0x5d368e-_0x1fa1ee/0x2,_0x1fa1ee,_0x1fa1ee),_0x4b7176[_0x4a25e1(0x17b)]();}function redrawPreview(){const _0x43f295=PREVIEW_W/0x295;renderToCanvas(canvas,ctx,PREVIEW_W,PREVIEW_H,_0x43f295);}function a0_0x4b27(){const _0x5f1371=['move','font','toFixed','8LLizMb','map','restore','offsetX','addEventListener','zoomVal','getContext','placeholder','click','checked','textAlign','idcard_ut.png','change','#f3f4f6','mousedown','value','input','KTM','34854750xaMmxN','fillRect','getBoundingClientRect','name','zoom','getElementById','href','pxInfo','Val','classList','width','height','21704qkyWCl','3120XkQqMY','heightMm','mouseleave','centerY','lockRatio','photoInput','round','#9ca3af','diameter','createElement','clientY','querySelectorAll','centerX','min','1141qMIOZk','dataset','ratioInfo','5720859CojnEj','.xy-button-grid\x20button[data-move]','save','#d1d5db','3483936NpkOXx','(((.+)+)+)+$','468837AtwNml','widthMm','fill','templateInput','textContent','files','clientX','apply','image/png','beginPath','offsetY','replace','dpi','forEach','clip','left','\x20px\x20(untuk\x20export)','top','10675NycfZL','constructor','Rasio:\x20','canvas','target','fillStyle','147500ZBeIqr','arc','remove','#111827','fillText','drawImage','download','toDataURL','mouseup','toString','onload','px\x20system-ui'];a0_0x4b27=function(){return _0x5f1371;};return a0_0x4b27();}templateInput[a0_0x486928(0x17d)](a0_0x486928(0x185),_0x4d076a=>{const _0x3cb8fb=a0_0x486928,_0x4a4044=_0x4d076a[_0x3cb8fb(0x168)][_0x3cb8fb(0x157)][0x0];if(!_0x4a4044)return;templateNameSpan[_0x3cb8fb(0x156)]=_0x4a4044['name'],templateNameSpan[_0x3cb8fb(0x137)][_0x3cb8fb(0x16c)](_0x3cb8fb(0x180)),loadImageFromFile(_0x4a4044,_0x3bb9e0=>{templateImg=_0x3bb9e0,redrawPreview();});}),photoInput[a0_0x486928(0x17d)](a0_0x486928(0x185),_0x3b189e=>{const _0x43441c=a0_0x486928,_0x506e2a=_0x3b189e[_0x43441c(0x168)][_0x43441c(0x157)][0x0];if(!_0x506e2a)return;photoNameSpan[_0x43441c(0x156)]=_0x506e2a[_0x43441c(0x18e)],photoNameSpan['classList'][_0x43441c(0x16c)]('placeholder'),loadImageFromFile(_0x506e2a,_0x40feee=>{const _0x1d1334=_0x43441c;photoImg=_0x40feee,state[_0x1d1334(0x18f)]=0x1,state[_0x1d1334(0x17c)]=0x0,state[_0x1d1334(0x15c)]=0x0,document['getElementById'](_0x1d1334(0x18f))[_0x1d1334(0x188)]=0x64,document[_0x1d1334(0x190)](_0x1d1334(0x17e))[_0x1d1334(0x156)]=0x64,redrawPreview();});});function bindSlider(_0x4cf95b,_0x2b928f){const _0x1283a2=a0_0x486928,_0xd549af=document[_0x1283a2(0x190)](_0x4cf95b),_0x27be65=document['getElementById'](_0x4cf95b+_0x1283a2(0x193));_0xd549af[_0x1283a2(0x17d)](_0x1283a2(0x189),()=>{const _0xb9b53c=_0x1283a2,_0x28b227=Number(_0xd549af[_0xb9b53c(0x188)]);_0x27be65[_0xb9b53c(0x156)]=_0x28b227,_0x2b928f==='zoom'?state[_0xb9b53c(0x18f)]=_0x28b227/0x64:state[_0x2b928f]=_0x28b227,redrawPreview();});}bindSlider(a0_0x486928(0x147),a0_0x486928(0x147)),bindSlider(a0_0x486928(0x13e),a0_0x486928(0x13e)),bindSlider('diameter',a0_0x486928(0x143)),bindSlider('zoom',a0_0x486928(0x18f)),document[a0_0x486928(0x146)](a0_0x486928(0x14d))[a0_0x486928(0x15f)](_0x46dda0=>{const _0x5113de=a0_0x486928;_0x46dda0[_0x5113de(0x17d)]('click',()=>{const _0x3daa88=_0x5113de;if(!photoImg)return;const [_0x41526e,_0x4872a9]=_0x46dda0[_0x3daa88(0x14a)][_0x3daa88(0x176)]['split'](',')[_0x3daa88(0x17a)](Number);state[_0x3daa88(0x17c)]+=_0x41526e,state[_0x3daa88(0x15c)]+=_0x4872a9,redrawPreview();});});let isDragging=![],dragStartX=0x0,dragStartY=0x0,dragOffsetX0=0x0,dragOffsetY0=0x0;canvas[a0_0x486928(0x17d)](a0_0x486928(0x187),_0x5d95c2=>{const _0x1ad762=a0_0x486928;if(!photoImg)return;isDragging=!![];const _0x10bd57=canvas[_0x1ad762(0x18d)]();dragStartX=_0x5d95c2[_0x1ad762(0x158)]-_0x10bd57[_0x1ad762(0x161)],dragStartY=_0x5d95c2[_0x1ad762(0x145)]-_0x10bd57[_0x1ad762(0x163)],dragOffsetX0=state[_0x1ad762(0x17c)],dragOffsetY0=state[_0x1ad762(0x15c)];}),window[a0_0x486928(0x17d)]('mousemove',_0x14ad69=>{const _0x47755e=a0_0x486928;if(!isDragging||!photoImg)return;const _0x4ad4cf=canvas[_0x47755e(0x18d)](),_0x4dd813=_0x14ad69[_0x47755e(0x158)]-_0x4ad4cf[_0x47755e(0x161)],_0x16829e=_0x14ad69['clientY']-_0x4ad4cf[_0x47755e(0x163)],_0x4b6382=_0x4dd813-dragStartX,_0x2ac396=_0x16829e-dragStartY,_0x400517=photoImg[_0x47755e(0x138)],_0x58157a=photoImg[_0x47755e(0x139)],_0x468743=Math[_0x47755e(0x148)](_0x400517,_0x58157a),_0x23bf58=_0x468743/state[_0x47755e(0x18f)],_0x3e3841=state[_0x47755e(0x143)]/0x64*PREVIEW_W,_0x3793ff=_0x23bf58/_0x3e3841;state[_0x47755e(0x17c)]=dragOffsetX0+_0x4b6382*_0x3793ff,state['offsetY']=dragOffsetY0+_0x2ac396*_0x3793ff,redrawPreview();}),window[a0_0x486928(0x17d)](a0_0x486928(0x172),()=>{isDragging=![];}),canvas[a0_0x486928(0x17d)](a0_0x486928(0x13d),()=>{isDragging=![];}),document[a0_0x486928(0x190)]('resetBtn')[a0_0x486928(0x17d)]('click',()=>{const _0x46e917=a0_0x486928;state['zoom']=0x1,state['offsetX']=0x0,state[_0x46e917(0x15c)]=0x0,document[_0x46e917(0x190)](_0x46e917(0x18f))[_0x46e917(0x188)]=0x64,document[_0x46e917(0x190)](_0x46e917(0x17e))[_0x46e917(0x156)]=0x64,redrawPreview();}),document['getElementById']('downloadBtn')[a0_0x486928(0x17d)]('click',()=>{const _0xcb71b4=a0_0x486928,_0x4044aa=document['createElement'](_0xcb71b4(0x167));_0x4044aa[_0xcb71b4(0x138)]=exportWidthPx,_0x4044aa['height']=exportHeightPx;const _0x1c0d52=_0x4044aa[_0xcb71b4(0x17f)]('2d');renderToCanvas(_0x4044aa,_0x1c0d52,exportWidthPx,exportHeightPx,0x1);const _0x4b88f6=document[_0xcb71b4(0x144)]('a');_0x4b88f6[_0xcb71b4(0x170)]=_0xcb71b4(0x184),_0x4b88f6[_0xcb71b4(0x191)]=_0x4044aa[_0xcb71b4(0x171)](_0xcb71b4(0x15a)),_0x4b88f6[_0xcb71b4(0x181)]();}),redrawPreview();